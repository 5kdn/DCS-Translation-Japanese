<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Mods ZIP Downloads</title>
    <style>
        body {
            font-family: sans-serif;
            max-width: 600px;
            margin: 2rem auto;
            padding: 1rem;
        }
        h1 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }
        ul {
            list-style: none;
            padding-left: 0;
        }
        li {
            margin: 0.5rem 0;
        }
        a {
            text-decoration: none;
            color: #0366d6;
        }
        a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <h1>最新のリリースに含まれる ZIP ファイル</h1>
    <ul id="zip-list">読み込み中...</ul>

    <script>
        const owner = '5kdn'
        const repo = 'test_DCS'
        const api = `https://api.github.com/repos/${owner}/${repo}/releases/latest`

        fetch(api)
        .then(response => response.json())
        .then(data => {
            const ul = document.getElementById('zip-list')
            ul.innerHTML = ''

            if (!data.assets || data.assets.length === 0) {
                ul.innerHTML = '<li>ZIPファイルは見つかりませんでした。</li>'
                return
            }

            data.assets
            .filter(asset => asset.name.endsWith('.zip'))
            .forEach(asset => {
                const li = document.createElement('li')
                const a = document.createElement('a')
                a.href = asset.browser_download_url
                a.textContent = asset.name
                a.target = '_blank'
                li.appendChild(a)
                ul.appendChild(li)
            })
        })
        .catch(error => {
            document.getElementById('zip-list').innerHTML = '<li>エラーが発生しました。</li>'
            console.error(error)
        })
    </script>
    </body>
</html>